# Diagnostics (MCP)

Diagnostics are fetched via the MCP bridge in `lsp_mcp`, which spawns a headless Neovim instance to gather LSP output without touching the UI.

## MCP diagnostics payload

```lua
local mcp = require('nvim-claude.lsp_mcp')

local json = mcp.diagnostics.get_for_files({})
local decoded = vim.json.decode(json)

assert(type(decoded) == 'table')
```
